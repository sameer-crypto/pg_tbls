# public.attendance_report

## Description

<details>
<summary><strong>Table Definition</strong></summary>

```sql
CREATE VIEW attendance_report AS (
 SELECT intime.employeecode AS emp_id,
    employee.employeename AS username,
    COALESCE(employee.isactive, false) AS isactive,
    intime.checkin_date,
    intime.checkin_time,
    COALESCE(intime.checkinmedium, 'N/A'::character varying) AS checkinmedium,
    COALESCE(outtime.checkout_time, 'N/A'::text) AS checkout_time,
    COALESCE(outtime.checkoutmedium, 'N/A'::character varying) AS checkoutmedium,
    concat(intime.lattitude, ',', intime.longitude) AS checkinlocation,
    intime.distance_from_office_in_meter AS checkin_distance,
    concat(outtime.lattitude, ',', outtime.longitude) AS checkoutlocation,
    outtime.distance_from_office_in_meter AS checkout_distance,
        CASE
            WHEN (intime.is_approved = true) THEN 'Approved'::text
            ELSE 'Not Approved'::text
        END AS checkinstatus,
        CASE
            WHEN (outtime.is_approved = true) THEN 'Approved'::text
            ELSE 'Not Approved'::text
        END AS checkoutstatus,
    COALESCE(department.department, 'N/A'::character varying) AS deptt_name,
    COALESCE(intime.workmode, 'N/A'::text) AS inworkmode,
    COALESCE(intime.workmodename, 'N/A'::text) AS inworkmodename,
    COALESCE(outtime.workmode, 'N/A'::text) AS outworkmode,
    COALESCE(outtime.workmodename, 'N/A'::text) AS outworkmodename,
    COALESCE(intime.loc_lattitude, 'N/A'::text) AS inloc_lattitude,
    COALESCE(intime.loc_longitude, 'N/A'::text) AS inloc_longitude,
    COALESCE(outtime.loc_lattitude, 'N/A'::text) AS outloc_lattitude,
    COALESCE(outtime.loc_longitude, 'N/A'::text) AS outloc_longitude,
    intime.lattitude AS inlattitude,
    intime.longitude AS inlongitude,
    outtime.lattitude AS outlattitude,
    outtime.longitude AS outlongitude
   FROM ((((intime
     LEFT JOIN outtime ON ((((intime.employeecode)::text = (outtime.employeecode)::text) AND (intime.id = outtime.id))))
     LEFT JOIN hr_employeemaster employee ON (((employee.employeecode)::text = (intime.employeecode)::text)))
     LEFT JOIN hr_employeeotherdetail users ON ((users.employeecode = (employee.employeecode)::text)))
     LEFT JOIN hr_departmentmaster department ON ((employee.departmentid = department.departmentid)))
  WHERE ((COALESCE(users.delflag, false) = false) AND (COALESCE(employee.isactive, false) = true))
)
```

</details>

## Columns

| Name | Type | Default | Nullable | Children | Parents | Comment |
| ---- | ---- | ------- | -------- | -------- | ------- | ------- |
| emp_id | varchar(20) |  | true |  |  |  |
| username | varchar(100) |  | true |  |  |  |
| isactive | boolean |  | true |  |  |  |
| checkin_date | date |  | true |  |  |  |
| checkin_time | text |  | true |  |  |  |
| checkinmedium | varchar |  | true |  |  |  |
| checkout_time | text |  | true |  |  |  |
| checkoutmedium | varchar |  | true |  |  |  |
| checkinlocation | text |  | true |  |  |  |
| checkin_distance | integer |  | true |  |  |  |
| checkoutlocation | text |  | true |  |  |  |
| checkout_distance | integer |  | true |  |  |  |
| checkinstatus | text |  | true |  |  |  |
| checkoutstatus | text |  | true |  |  |  |
| deptt_name | varchar |  | true |  |  |  |
| inworkmode | text |  | true |  |  |  |
| inworkmodename | text |  | true |  |  |  |
| outworkmode | text |  | true |  |  |  |
| outworkmodename | text |  | true |  |  |  |
| inloc_lattitude | text |  | true |  |  |  |
| inloc_longitude | text |  | true |  |  |  |
| outloc_lattitude | text |  | true |  |  |  |
| outloc_longitude | text |  | true |  |  |  |
| inlattitude | text |  | true |  |  |  |
| inlongitude | text |  | true |  |  |  |
| outlattitude | text |  | true |  |  |  |
| outlongitude | text |  | true |  |  |  |

## Referenced Tables

| Name | Columns | Comment | Type |
| ---- | ------- | ------- | ---- |
| [public.intime](public.intime.md) | 16 |  | VIEW |
| [public.outtime](public.outtime.md) | 16 |  | VIEW |
| [public.hr_employeemaster](public.hr_employeemaster.md) | 137 |  | BASE TABLE |
| [public.hr_employeeotherdetail](public.hr_employeeotherdetail.md) | 19 |  | BASE TABLE |
| [public.hr_departmentmaster](public.hr_departmentmaster.md) | 17 |  | BASE TABLE |

## Relations

![er](public.attendance_report.svg)

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
